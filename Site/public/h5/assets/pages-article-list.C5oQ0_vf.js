import{g as a,a as t,b as e,c as l,h as s,n as i,d as o,r as n,e as r,f as d,w as c,i as u,j as f,k as h,o as m,l as _,p as g,F as p,t as b,u as v,q as y,v as C}from"./index-qqngRkUa.js";import{_ as I}from"./uv-loading-page.B-dgjlQB.js";import{_ as w,r as D}from"./uni-app.es.DMzxE133.js";import{_ as T}from"./uv-tabs.CE1zojyN.js";import{_ as j}from"./uv-icon.BH_bzOnD.js";import{_ as L}from"./uv-empty.BEvkJ93x.js";import"./uv-badge.CRu177xF.js";const k=w({data:()=>({theme:"",loading:!0,tabsTitle:[],currentTab:0,lineColor:"",catId:0,dataList:[]}),onLoad(a){let t=this;Reflect.ownKeys(a).length>0&&(a.hasOwnProperty("id")&&(t.catId=a.id),a.hasOwnProperty("tab")&&(t.currentTab=parseInt(a.tab)))},onShow(){let t=f(),e=a(),l={goods_id:0,url:e[e.length-1].route,platform:t.globalData.systemInfo.uniPlatform,model:t.globalData.systemInfo.deviceModel};this.$apis.visit.add(l),this.initData()},onPullDownRefresh(){t({title:"加载中"}),this.initData("refresh")},methods:{async initData(a=""){let t,i=f(),o=this,n={},r=[];if(await o.$onLaunched,o.theme=i.globalData.theme,o.lineColor=i.globalData.themeColor,0==o.tabsTitle.length){t=await o.$apis.article.getCategory();for(let a=0;a<t.data.length;a++)0==a&&0==o.catId&&(o.catId=t.data[a].id),n={},n.name=t.data[a].title,n.id=t.data[a].id,r.push(n);o.tabsTitle=r}t=await o.$apis.article.getList({cat:o.catId}),o.dataList=t.data,e({title:t.cat_title}),"refresh"==a&&l(),s(),o.loading=!1},tabChange(a){let e=this;e.currentTab=a.index,e.catId=e.tabsTitle[a.index].id,t({title:"加载中"}),e.initData()},turnUrl(a="",t=1){a&&"#"!=a&&(1==t&&i({url:a}),2==t&&o({url:a}),3==t&&n({url:a}))}}},[["render",function(a,t,e,l,s,i){const o=D(r("uv-loading-page"),I),n=D(r("uv-tabs"),T),f=h,w=D(r("uv-icon"),j),k=D(r("uv-empty"),L);return m(),d(f,{class:u(["content",s.theme])},{default:c((()=>[_(o,{loading:s.loading},null,8,["loading"]),s.loading?v("",!0):(m(),g(p,{key:0},[_(f,{class:"header"},{default:c((()=>[_(f,{class:"header_ctt"},{default:c((()=>[_(n,{list:s.tabsTitle,current:s.currentTab,inactiveStyle:{color:"#999",transform:"scale(1)"},activeStyle:{color:"#333",transform:"scale(1.05)",fontWeight:"bold"},lineColor:s.lineColor,onChange:i.tabChange},null,8,["list","current","inactiveStyle","activeStyle","lineColor","onChange"])])),_:1})])),_:1}),_(f,{class:"wrap"},{default:c((()=>[_(f,{class:"space_header"}),_(f,{class:"m_ctr"},{default:c((()=>[_(f,{class:"space_ctr"}),(m(!0),g(p,null,b(s.dataList,((a,t)=>(m(),d(f,{key:t,class:"yuan_ctr",onClick:t=>i.turnUrl("/pages/article/detail?id="+a.id)},{default:c((()=>[_(f,{class:"article_list_title"},{default:c((()=>[y(C(a.title),1)])),_:2},1024),_(f,{class:"article_list_info"},{default:c((()=>[y(C(a.survey),1)])),_:2},1024),_(f,{class:"article_list_date"},{default:c((()=>[_(f,{class:"ico"},{default:c((()=>[_(w,{name:"clock-o","custom-prefix":"custom-icon",size:"24rpx",color:"#999"})])),_:1}),_(f,null,{default:c((()=>[y(C(a.add_date),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),s.dataList.length<1?(m(),d(f,{key:0,class:"none_ctr"},{default:c((()=>[_(k,{icon:"/static/images/none.png",text:"暂无文章"})])),_:1})):v("",!0)])),_:1})])),_:1})],64))])),_:1},8,["class"])}],["__scopeId","data-v-cdebad02"]]);export{k as default};
