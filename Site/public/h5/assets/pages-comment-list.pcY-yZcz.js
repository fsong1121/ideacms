import{g as a,a as t,c as e,h as s,n as l,d as n,r as o,e as i,f as c,w as r,i as d,j as m,k as u,o as _,l as f,p as g,F as h,t as p,u as b,q as v,v as y,x as C}from"./index-CGszr9qB.js";import{_ as k}from"./uv-loading-page.DMunDfme.js";import{_ as x,r as D}from"./uni-app.es.CLj63pkI.js";import{_ as j}from"./uv-tabs.BBaBSH8a.js";import{_ as w}from"./uv-empty.BfD1VQnC.js";import"./uv-badge.C6BqFgsL.js";import"./uv-icon.40j6Cb1z.js";const L=x({data:()=>({theme:"",loading:!0,tabsTitle:[{name:"待评价"},{name:"已评价"}],currentTab:0,lineColor:"",dataList:[]}),onShow(){let t=m(),e=a(),s={goods_id:0,url:e[e.length-1].route,platform:t.globalData.systemInfo.uniPlatform,model:t.globalData.systemInfo.deviceModel};this.$apis.visit.add(s),this.initData()},onPullDownRefresh(){t({title:"加载中"}),this.initData("refresh")},methods:{async initData(a=""){let t,l=m(),n=this;await n.$onLaunched,n.theme=l.globalData.theme,n.lineColor=l.globalData.themeColor,t=await n.$apis.comment.getList({size:1e4,state:n.currentTab}),n.dataList=t.data,"refresh"==a&&e(),s(),n.loading=!1},tabChange(a){this.currentTab=a.index,t({title:"加载中"}),this.initData()},turnUrl(a="",t=1){a&&"#"!=a&&(1==t&&l({url:a}),2==t&&n({url:a}),3==t&&o({url:a}))}}},[["render",function(a,t,e,s,l,n){const o=D(i("uv-loading-page"),k),m=D(i("uv-tabs"),j),x=u,L=C,T=D(i("uv-empty"),w);return _(),c(x,{class:d(["content",l.theme])},{default:r((()=>[f(o,{loading:l.loading},null,8,["loading"]),l.loading?b("",!0):(_(),g(h,{key:0},[f(x,{class:"header"},{default:r((()=>[f(x,{class:"header_ctt"},{default:r((()=>[f(m,{list:l.tabsTitle,current:l.currentTab,inactiveStyle:{color:"#999",transform:"scale(1)"},activeStyle:{color:"#333",transform:"scale(1.05)",fontWeight:"bold"},lineColor:l.lineColor,scrollable:!1,onChange:n.tabChange},null,8,["list","current","inactiveStyle","activeStyle","lineColor","onChange"])])),_:1})])),_:1}),f(x,{class:"wrap"},{default:r((()=>[f(x,{class:"space_header"}),f(x,{class:"space_ctr"}),f(x,{class:"m_ctr"},{default:r((()=>[(_(!0),g(h,null,p(l.dataList,((a,t)=>(_(),c(x,{class:"yuan_ctr",key:t},{default:r((()=>[f(x,{class:"comment_ctr"},{default:r((()=>[f(x,{class:"comment_pic"},{default:r((()=>[f(L,{mode:"widthFix",src:a.pic},null,8,["src"])])),_:2},1024),f(x,{class:"comment_ctt"},{default:r((()=>[f(x,{class:"comment_title"},{default:r((()=>[v(y(a.title),1)])),_:2},1024),f(x,{class:"comment_txt"},{default:r((()=>[v(y(a.spec_key_name),1)])),_:2},1024),0==a.is_comment?(_(),c(x,{key:0,class:"comment_btn",onClick:t=>n.turnUrl("/pages/comment/index?id="+a.id)},{default:r((()=>[v("评价")])),_:2},1032,["onClick"])):(_(),c(x,{key:1,class:"comment_btn",onClick:t=>n.turnUrl("/pages/comment/index?id="+a.id)},{default:r((()=>[v("查看")])),_:2},1032,["onClick"]))])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),l.dataList.length<1?(_(),c(x,{key:0,class:"none_ctr"},{default:r((()=>[f(T,{icon:"/static/images/none.png",text:"暂无待评价商品"})])),_:1})):b("",!0)])),_:1})],64))])),_:1},8,["class"])}],["__scopeId","data-v-995b9728"]]);export{L as default};
