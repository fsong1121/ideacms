import{g as a,a as t,h as s,c as e,X as l,e as o,o as n,f as i,w as d,i as c,j as r,k as _,l as m,p as u,t as f,F as g,u as p,q as h,v as y,x as k}from"./index-DZAdU3tA.js";import{_ as w}from"./uv-loading-page.BWWaS0er.js";import{_ as v,r as D}from"./uni-app.es.aySs7ojS.js";import{_ as x}from"./uv-empty.BCMCAE1p.js";import"./uv-icon.u8BLdT_1.js";const L=v({data:()=>({theme:"",loading:!0,currentID:0,dataList:[]}),onLoad(a){let t=this;Reflect.ownKeys(a).length>0&&a.hasOwnProperty("id")&&(t.currentID=a.id)},onShow(){let t=r(),s=a(),e={goods_id:0,url:s[s.length-1].route,platform:t.globalData.systemInfo.uniPlatform,model:t.globalData.systemInfo.deviceModel};this.$apis.visit.add(e),this.initData()},onPullDownRefresh(){t({title:"加载中"}),this.initData("refresh")},methods:{async initData(a=""){let t,l=r(),o=this;await o.$onLaunched,o.theme=l.globalData.theme,t=await o.$apis.goods.getComment({id:o.currentID,size:1e4}),o.dataList=t.data,"refresh"==a&&(s(),e()),o.loading=!1},showPic(a,t){l({urls:this.dataList[a].pic,current:t})}}},[["render",function(a,t,s,e,l,r){const v=D(o("uv-loading-page"),w),L=_,j=k,I=D(o("uv-empty"),x);return n(),i(L,{class:c(["content",l.theme])},{default:d((()=>[m(v,{loading:l.loading},null,8,["loading"]),l.loading?p("",!0):(n(),i(L,{key:0,class:"wrap"},{default:d((()=>[m(L,{class:"space_ctr"}),m(L,{class:"m_ctr"},{default:d((()=>[(n(!0),u(g,null,f(l.dataList,((a,t)=>(n(),i(L,{class:"yuan_ctr",key:t},{default:d((()=>[m(L,{class:"goods_comment_ctr"},{default:d((()=>[m(L,{class:"goods_comment_title"},{default:d((()=>[m(L,{class:"goods_comment_avatar"},{default:d((()=>[m(j,{mode:"widthFix",src:a.avatar},null,8,["src"])])),_:2},1024),m(L,{class:"goods_comment_txt"},{default:d((()=>[m(L,null,{default:d((()=>[h(y(a.user_name),1)])),_:2},1024),m(L,{class:"span"},{default:d((()=>[m(L,null,{default:d((()=>[h(y(a.new_add_date),1)])),_:2},1024),""!=a.spec_key_name?(n(),i(L,{key:0,style:{margin:"0 8rpx"}},{default:d((()=>[h("|")])),_:1})):p("",!0),""!=a.spec_key_name?(n(),i(L,{key:1},{default:d((()=>[h(y(a.spec_key_name),1)])),_:2},1024)):p("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024),m(L,{class:"goods_comment_info"},{default:d((()=>[h(y(a.info),1)])),_:2},1024),a.pic.length>0?(n(),i(L,{key:0,class:"goods_comment_pic_ctr"},{default:d((()=>[(n(!0),u(g,null,f(a.pic,((a,s)=>(n(),i(L,{key:s,class:"goods_comment_pic"},{default:d((()=>[m(j,{mode:"widthFix",src:a,onClick:a=>{r.showPic(t,s)}},null,8,["src","onClick"])])),_:2},1024)))),128))])),_:2},1024)):p("",!0)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),l.dataList.length<1?(n(),i(L,{key:0,class:"none_ctr"},{default:d((()=>[m(I,{icon:"/static/images/none.png",text:"暂无评价"})])),_:1})):p("",!0)])),_:1}))])),_:1},8,["class"])}],["__scopeId","data-v-1816ea69"]]);export{L as default};
