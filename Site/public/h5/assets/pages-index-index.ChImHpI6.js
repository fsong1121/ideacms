import{s as t,g as l,a as s,b as a,h as e,c as i,m as o,n as c,d,r as n,e as r,o as _,f as u,w as f,i as p,j as g,k as m,l as h,p as k,q as y,F as C,t as b,u as w,v as x,x as L,S as v,y as G}from"./index-ozoT3Rek.js";import{_ as U}from"./uv-loading-page.tTreRwcr.js";import{_ as D,r as S}from"./uni-app.es.Cr4agT_b.js";import{_ as F}from"./uv-icon.uym7Qx1m.js";import{_ as I}from"./uv-tabs.CEs9_O-S.js";import{_ as $}from"./uv-empty.pEbESuc9.js";import"./uv-badge.CBgzA-Mz.js";const j=D({data:()=>({theme:"",loading:!0,imgUrls:[],duration:1e3,currentTab:0,lineColor:"",tabsTitle:[{name:"猜你喜欢"},{name:"精品推荐"},{name:"新品速递"},{name:"好评如潮"}],hitsGoodsList:[],newGoodsList:[],topGoodsList:[],hotGoodsList:[],newsList:[],mobileMenu:[],mobileSetting:{},copyright:""}),onLoad(l){if(Reflect.ownKeys(l).length>0){if(l.hasOwnProperty("scene")){let s=decodeURIComponent(l.scene);t("pid",s)}l.hasOwnProperty("pid")&&t("pid",l.pid)}this.initData()},onShow(){let t=g(),s=l(),a={goods_id:0,url:s[s.length-1].route,platform:t.globalData.systemInfo.uniPlatform,model:t.globalData.systemInfo.deviceModel};this.$apis.visit.add(a)},onPullDownRefresh(){s({title:"加载中"}),this.initData("refresh")},methods:{async initData(t=""){let l,s=g(),o=this;await o.$onLaunched,o.theme=s.globalData.theme,o.lineColor=s.globalData.themeColor,o.mobileSetting=s.globalData.mobileSetting,o.copyright=s.globalData.siteInfo.copyright,a({title:s.globalData.siteInfo.title}),l=await o.$apis.ads.getData({size:5,type:2}),o.imgUrls=l.data,l=await o.$apis.goods.getList({field:"id,title,pic,price,market_price",order:"hits"}),o.hitsGoodsList=l.data,l=await o.$apis.goods.getList({field:"id,title,pic,price,market_price",activity_type:"top"}),o.topGoodsList=l.data,l=await o.$apis.goods.getList({field:"id,title,pic,price,market_price",activity_type:"new"}),o.newGoodsList=l.data,l=await o.$apis.goods.getList({field:"id,title,pic,price,market_price",activity_type:"hot"}),o.hotGoodsList=l.data,l=await o.$apis.article.getList({field:"id,title",size:1,cat:3}),o.newsList=l.data,l=await o.$apis.setting.getMobileMenu(),o.mobileMenu=l.data,"refresh"==t&&(e(),i()),o.loading=!1},onCall(){let t=g();o({phoneNumber:t.globalData.siteInfo.phone})},turnUrl(t="",l=1){t&&"#"!=t&&(1==l&&c({url:t}),2==l&&d({url:t}),3==l&&n({url:t}))},tabClick(t){this.currentTab=t.index}}},[["render",function(t,l,s,a,e,i){const o=S(r("uv-loading-page"),U),c=S(r("uv-icon"),F),d=m,n=L,g=G,D=v,j=S(r("uv-tabs"),I),T=S(r("uv-empty"),$);return _(),u(d,{class:p(["content",e.theme])},{default:f((()=>[h(o,{loading:e.loading},null,8,["loading"]),e.loading?w("",!0):(_(),k(C,{key:0},[h(d,{class:"header"},{default:f((()=>[h(d,{class:"header_ctt"},{default:f((()=>[h(d,{class:"search_ctr",onClick:l[0]||(l[0]=t=>i.turnUrl("/pages/search/index"))},{default:f((()=>[h(d,{class:"search_ctt"},{default:f((()=>[h(d,{class:"search_ico"},{default:f((()=>[h(c,{name:"search","custom-prefix":"custom-icon"})])),_:1}),h(d,{class:"search_txt"},{default:f((()=>[y("试试输入您喜爱的商品搜一下")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),h(d,{class:"wrap"},{default:f((()=>[h(d,{class:"space_header"}),h(d,{class:"m_ctr"},{default:f((()=>[h(D,{"indicator-dots":"true",autoplay:"true",duration:e.duration},{default:f((()=>[(_(!0),k(C,null,b(e.imgUrls,((t,l)=>(_(),u(g,{key:l},{default:f((()=>[h(n,{src:t.pic,class:"slide-image",onClick:l=>i.turnUrl(t.url)},null,8,["src","onClick"])])),_:2},1024)))),128))])),_:1},8,["duration"])])),_:1}),h(d,{class:"m_ctr"},{default:f((()=>[h(d,{class:"yuan_ctr"},{default:f((()=>[(_(!0),k(C,null,b(e.mobileMenu,((t,l)=>(_(),k(C,{key:l},[0==t.type?(_(),u(d,{key:0,class:"nav_ctr"},{default:f((()=>[h(d,{class:"nav_ctt",onClick:l=>i.turnUrl(t.url,t.url_type)},{default:f((()=>[h(d,{class:"pic"},{default:f((()=>[h(n,{mode:"widthFix",src:t.pic},null,8,["src"])])),_:2},1024),h(d,{class:"text"},{default:f((()=>[y(x(t.title),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)):(_(),u(d,{key:1,class:"nav_ctr"},{default:f((()=>[h(d,{class:"nav_ctt"},{default:f((()=>[h(d,{class:"pic",onClick:i.onCall},{default:f((()=>[h(n,{mode:"widthFix",src:t.pic},null,8,["src"])])),_:2},1032,["onClick"]),h(d,{class:"text",onClick:i.onCall},{default:f((()=>[y(x(t.title),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024))],64)))),128))])),_:1})])),_:1}),e.newsList.length>0?(_(),u(d,{key:0,class:"m_ctr"},{default:f((()=>[h(d,{class:"yuan_ctr notice_ctr"},{default:f((()=>[h(d,{class:"notice_title"},{default:f((()=>[h(n,{mode:"widthFix",src:"/h5/assets/news-CpGY-Iw5.png"})])),_:1}),h(d,{class:"notice_fg"}),(_(!0),k(C,null,b(e.newsList,((t,l)=>(_(),u(d,{class:"notice_ctt",key:l},{default:f((()=>[h(d,{onClick:l=>i.turnUrl("/pages/article/detail?id="+t.id)},{default:f((()=>[y(x(t.title),1)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),h(d,{class:"notice_more",onClick:l[1]||(l[1]=t=>i.turnUrl("/pages/article/list"))},{default:f((()=>[y("更多..")])),_:1})])),_:1})])),_:1})):w("",!0),1==e.mobileSetting.open_card?(_(),u(d,{key:1,class:"m_ctr"},{default:f((()=>[h(d,{class:"index_ad_ctr"},{default:f((()=>[h(d,{class:"index_card_ctr"},{default:f((()=>[h(n,{mode:"widthFix",src:e.mobileSetting.card_pic},null,8,["src"]),h(d,{class:"index_card_ctt"},{default:f((()=>[h(d,{class:"index_card",onClick:l[2]||(l[2]=t=>i.turnUrl(e.mobileSetting.card_url1))}),h(d,{class:"index_card",onClick:l[3]||(l[3]=t=>i.turnUrl(e.mobileSetting.card_url2))})])),_:1})])),_:1})])),_:1})])),_:1})):w("",!0),h(d,{class:"m_ctr",style:{"font-size":"32rpx"}},{default:f((()=>[h(j,{list:e.tabsTitle,scrollable:!1,inactiveStyle:{color:"#999",transform:"scale(1)"},activeStyle:{color:"#333",transform:"scale(1.05)",fontWeight:"bold"},lineColor:e.lineColor,onClick:i.tabClick},null,8,["list","inactiveStyle","activeStyle","lineColor","onClick"])])),_:1}),0==e.currentTab?(_(),u(d,{key:2,class:"m_ctr"},{default:f((()=>[h(d,{class:"m_ctt"},{default:f((()=>[h(d,{class:"goods_list_ctr"},{default:f((()=>[(_(!0),k(C,null,b(e.hitsGoodsList,((t,l)=>(_(),u(d,{class:"goods_list_cell",key:l},{default:f((()=>[h(d,{onClick:l=>i.turnUrl("/pages/goods/detail?id="+t.id)},{default:f((()=>[h(n,{mode:"widthFix",src:t.pic},null,8,["src"]),h(d,{class:"goods_list_t1"},{default:f((()=>[y(x(t.title),1)])),_:2},1024),h(d,{class:"goods_list_t2"},{default:f((()=>[h(d,null,{default:f((()=>[y("¥"+x(t.price),1)])),_:2},1024),h(d,{class:"span"},{default:f((()=>[y("¥"+x(t.market_price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),e.hitsGoodsList.length<1?(_(),u(d,{key:0,class:"none_ctr"},{default:f((()=>[h(T,{icon:"/static/images/none.png",text:"暂无精选商品"})])),_:1})):w("",!0)])),_:1})])),_:1})])),_:1})):w("",!0),1==e.currentTab?(_(),u(d,{key:3,class:"m_ctr"},{default:f((()=>[h(d,{class:"m_ctt"},{default:f((()=>[h(d,{class:"goods_list_ctr"},{default:f((()=>[(_(!0),k(C,null,b(e.topGoodsList,((t,l)=>(_(),u(d,{class:"goods_list_cell",key:l},{default:f((()=>[h(d,{onClick:l=>i.turnUrl("/pages/goods/detail?id="+t.id)},{default:f((()=>[h(n,{mode:"widthFix",src:t.pic},null,8,["src"]),h(d,{class:"goods_list_t1"},{default:f((()=>[y(x(t.title),1)])),_:2},1024),h(d,{class:"goods_list_t2"},{default:f((()=>[h(d,null,{default:f((()=>[y("¥"+x(t.price),1)])),_:2},1024),h(d,{class:"span"},{default:f((()=>[y("¥"+x(t.market_price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),e.topGoodsList.length<1?(_(),u(d,{key:0,class:"none_ctr"},{default:f((()=>[h(T,{icon:"/static/images/none.png",text:"暂无推荐商品"})])),_:1})):w("",!0)])),_:1})])),_:1})])),_:1})):w("",!0),2==e.currentTab?(_(),u(d,{key:4,class:"m_ctr"},{default:f((()=>[h(d,{class:"m_ctt"},{default:f((()=>[h(d,{class:"goods_list_ctr"},{default:f((()=>[(_(!0),k(C,null,b(e.newGoodsList,((t,l)=>(_(),u(d,{class:"goods_list_cell",key:l},{default:f((()=>[h(d,{onClick:l=>i.turnUrl("/pages/goods/detail?id="+t.id)},{default:f((()=>[h(n,{mode:"widthFix",src:t.pic},null,8,["src"]),h(d,{class:"goods_list_t1"},{default:f((()=>[y(x(t.title),1)])),_:2},1024),h(d,{class:"goods_list_t2"},{default:f((()=>[h(d,null,{default:f((()=>[y("¥"+x(t.price),1)])),_:2},1024),h(d,{class:"span"},{default:f((()=>[y("¥"+x(t.market_price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),e.newGoodsList.length<1?(_(),u(d,{key:0,class:"none_ctr"},{default:f((()=>[h(T,{icon:"/static/images/none.png",text:"暂无新品"})])),_:1})):w("",!0)])),_:1})])),_:1})])),_:1})):w("",!0),3==e.currentTab?(_(),u(d,{key:5,class:"m_ctr"},{default:f((()=>[h(d,{class:"m_ctt"},{default:f((()=>[h(d,{class:"goods_list_ctr"},{default:f((()=>[(_(!0),k(C,null,b(e.hotGoodsList,((t,l)=>(_(),u(d,{class:"goods_list_cell",key:l},{default:f((()=>[h(d,{onClick:l=>i.turnUrl("/pages/goods/detail?id="+t.id)},{default:f((()=>[h(n,{mode:"widthFix",src:t.pic},null,8,["src"]),h(d,{class:"goods_list_t1"},{default:f((()=>[y(x(t.title),1)])),_:2},1024),h(d,{class:"goods_list_t2"},{default:f((()=>[h(d,null,{default:f((()=>[y("¥"+x(t.price),1)])),_:2},1024),h(d,{class:"span"},{default:f((()=>[y("¥"+x(t.market_price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),e.hotGoodsList.length<1?(_(),u(d,{key:0,class:"none_ctr"},{default:f((()=>[h(T,{icon:"/static/images/none.png",text:"暂无热卖商品"})])),_:1})):w("",!0)])),_:1})])),_:1})])),_:1})):w("",!0),""!=e.copyright?(_(),u(d,{key:6,class:"copyright"},{default:f((()=>[y(x(e.copyright),1)])),_:1})):w("",!0)])),_:1})],64))])),_:1},8,["class"])}],["__scopeId","data-v-0275e60d"]]);export{j as default};
