import{g as a,n as t,d as s,r as l,m as e,e as d,o as _,f as o,w as c,i as n,j as i,k as u,l as f,p as r,F as p,t as g,q as y,v as m,u as k,C as h,x}from"./index-CP7J3jEj.js";import{_ as C}from"./uv-loading-page.CzAcxD5Y.js";import{_ as b,r as w}from"./uni-app.es.CkShW-16.js";import{_ as D}from"./uv-icon.CCP1ZI1Q.js";const v=b({data:()=>({theme:"",loading:!0,currentID:0,data:{},shopConfig:{}}),onLoad(a){let t=this;Reflect.ownKeys(a).length>0&&(t.currentID=a.hasOwnProperty("id")?a.id:0)},onShow(){let t=i(),s=a(),l={goods_id:0,url:s[s.length-1].route,platform:t.globalData.systemInfo.uniPlatform,model:t.globalData.systemInfo.deviceModel};this.$apis.visit.add(l),this.initData()},methods:{async initData(){let a,t=i(),s=this;await s.$onLaunched,s.theme=t.globalData.theme,a=await s.$apis.config.getShop(),s.shopConfig=a.data,a=await s.$apis.refund.getData({id:s.currentID}),0==a.code?s.data=a.data:s.data={},s.loading=!1},turnUrl(a="",e=1){a&&"#"!=a&&(1==e&&t({url:a}),2==e&&s({url:a}),3==e&&l({url:a}))},onCall(){let a=i();e({phoneNumber:a.globalData.siteInfo.phone})}}},[["render",function(a,t,s,l,e,i){const b=w(d("uv-loading-page"),C),v=u,I=x,j=w(d("uv-icon"),D);return _(),o(v,{class:n(["content",e.theme])},{default:c((()=>[f(b,{loading:e.loading},null,8,["loading"]),e.loading?k("",!0):(_(),r(p,{key:0},[f(v,{class:"wrap"},{default:c((()=>[f(v,{class:"m_ctr"},{default:c((()=>[f(v,{class:"space_ctr"}),f(v,{class:"yuan_ctr"},{default:c((()=>[(_(!0),r(p,null,g(e.data.goods_list,((a,t)=>(_(),o(v,{key:t,class:"order_goods_ctr",onClick:t=>i.turnUrl("/pages/goods/detail?id="+a.goods_id)},{default:c((()=>[f(v,{class:"order_goods_pic"},{default:c((()=>[f(I,{mode:"widthFix",src:a.goods_pic},null,8,["src"])])),_:2},1024),f(v,{class:"order_goods_ctt"},{default:c((()=>[f(v,{class:"order_goods_title",style:h(""==a.spec_key_name?"-webkit-line-clamp:2;":"")},{default:c((()=>[y(m(a.goods_title),1)])),_:2},1032,["style"]),""!=a.spec_key_name?(_(),o(v,{key:0,class:"order_goods_subtitle"},{default:c((()=>[y(m(a.spec_key_name),1)])),_:2},1024)):k("",!0)])),_:2},1024),f(v,{class:"order_goods_price"},{default:c((()=>[f(v,null,{default:c((()=>[y("¥"+m(a.price),1)])),_:2},1024),f(v,null,{default:c((()=>[y("×"+m(a.amount),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),f(v,{class:"yuan_ctr"},{default:c((()=>[f(v,{class:"detail_txt"},{default:c((()=>[f(v,{class:"title"},{default:c((()=>[y("订单编号")])),_:1}),f(v,{class:"span"},{default:c((()=>[y(m(e.data.order_sn),1)])),_:1})])),_:1}),f(v,{class:"detail_txt"},{default:c((()=>[f(v,{class:"title"},{default:c((()=>[y("退款单号")])),_:1}),f(v,{class:"span"},{default:c((()=>[y(m(e.data.sn),1)])),_:1})])),_:1}),f(v,{class:"detail_txt"},{default:c((()=>[f(v,{class:"title"},{default:c((()=>[y("申请时间")])),_:1}),f(v,{class:"span"},{default:c((()=>[y(m(e.data.add_date),1)])),_:1})])),_:1}),e.data.price>0?(_(),o(v,{key:0,class:"detail_txt"},{default:c((()=>[f(v,{class:"title"},{default:c((()=>[y("退款金额")])),_:1}),f(v,{class:"span"},{default:c((()=>[y("¥"+m(e.data.price),1)])),_:1})])),_:1})):k("",!0),e.data.integral>0?(_(),o(v,{key:1,class:"detail_txt"},{default:c((()=>[f(v,{class:"title"},{default:c((()=>[y("退还积分")])),_:1}),f(v,{class:"span"},{default:c((()=>[y(m(e.data.integral),1)])),_:1})])),_:1})):k("",!0)])),_:1}),f(v,{class:"yuan_ctr"},{default:c((()=>[f(v,{class:"detail_txt"},{default:c((()=>[f(v,{class:"title"},{default:c((()=>[y("退款类型")])),_:1}),1==e.data.type?(_(),o(v,{key:0,class:"span"},{default:c((()=>[y("仅退款")])),_:1})):k("",!0),2==e.data.type?(_(),o(v,{key:1,class:"span"},{default:c((()=>[y("退换退款")])),_:1})):k("",!0)])),_:1}),f(v,{class:"detail_txt"},{default:c((()=>[f(v,{class:"title"},{default:c((()=>[y("退款原因")])),_:1}),f(v,{class:"span"},{default:c((()=>[y(m(e.data.reason),1)])),_:1})])),_:1}),""!=e.data.info?(_(),o(v,{key:0,class:"detail_txt"},{default:c((()=>[f(v,{class:"title"},{default:c((()=>[y("补充原因")])),_:1}),f(v,{class:"span"},{default:c((()=>[y(m(e.data.info),1)])),_:1})])),_:1})):k("",!0),f(v,{class:"detail_txt"},{default:c((()=>[f(v,{class:"title"},{default:c((()=>[y("退款状态")])),_:1}),0==e.data.state?(_(),o(v,{key:0,class:"span"},{default:c((()=>[y("退款中")])),_:1})):k("",!0),1==e.data.state?(_(),o(v,{key:1,class:"span"},{default:c((()=>[y("已成功")])),_:1})):k("",!0),-1==e.data.state?(_(),o(v,{key:2,class:"span"},{default:c((()=>[y("已驳回")])),_:1})):k("",!0),-2==e.data.state?(_(),o(v,{key:3,class:"span"},{default:c((()=>[y("已取消")])),_:1})):k("",!0)])),_:1}),""!=e.data.reply_date?(_(),o(v,{key:1,class:"detail_txt"},{default:c((()=>[f(v,{class:"title"},{default:c((()=>[y("处理时间")])),_:1}),f(v,{class:"span"},{default:c((()=>[y(m(e.data.reply_date),1)])),_:1})])),_:1})):k("",!0),-1==e.data.state?(_(),o(v,{key:2,class:"detail_txt"},{default:c((()=>[f(v,{class:"title"},{default:c((()=>[y("处理意见")])),_:1}),f(v,{class:"span"},{default:c((()=>[y(m(e.data.reply_info),1)])),_:1})])),_:1})):k("",!0)])),_:1}),2==e.data.type?(_(),o(v,{key:0,class:"yuan_ctr"},{default:c((()=>[f(v,{class:"detail_txt"},{default:c((()=>[f(v,{class:"title"},{default:c((()=>[y("退货地址")])),_:1}),f(v,{class:"span"},{default:c((()=>[y(m(e.shopConfig.refund_name)+","+m(e.shopConfig.refund_tel)+","+m(e.shopConfig.refund_address),1)])),_:1})])),_:1})])),_:1})):k("",!0)])),_:1}),f(v,{class:"space_footer"})])),_:1}),f(v,{class:"footer"},{default:c((()=>[f(v,{class:"footer_ctt"},{default:c((()=>[f(v,{class:"detail_btn_ctr"},{default:c((()=>[f(v,{class:"detail_btn"},{default:c((()=>[f(j,{name:"service","custom-prefix":"custom-icon",size:"36rpx",bold:!0,onClick:i.onCall},null,8,["onClick"]),f(v,{class:"txt",onClick:i.onCall},{default:c((()=>[y("联系客服")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})],64))])),_:1},8,["class"])}],["__scopeId","data-v-aa0a743f"]]);export{v as default};
