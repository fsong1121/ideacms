import{g as a,n as t,d as s,r as l,m as e,o as d,e as _,w as o,f as c,i as n,j as i,k as u,l as f,F as r,q as p,p as g,u as y,t as m,v as k,C as h,x}from"./index-61bca09a.js";import{_ as C}from"./uv-loading-page.a3cea9e4.js";import{_ as b,r as w}from"./uni-app.es.c541313a.js";import{_ as D}from"./uv-icon.06d9cba4.js";const v=b({data:()=>({theme:"",loading:!0,currentID:0,data:{},shopConfig:{}}),onLoad(a){let t=this;Reflect.ownKeys(a).length>0&&(t.currentID=a.hasOwnProperty("id")?a.id:0)},onShow(){let t=n(),s=a(),l={goods_id:0,url:s[s.length-1].route,platform:t.globalData.systemInfo.uniPlatform,model:t.globalData.systemInfo.deviceModel};this.$apis.visit.add(l),this.initData()},methods:{async initData(){let a,t=n(),s=this;await s.$onLaunched,s.theme=t.globalData.theme,a=await s.$apis.config.getShop(),s.shopConfig=a.data,a=await s.$apis.refund.getData({id:s.currentID}),0==a.code?s.data=a.data:s.data={},s.loading=!1},turnUrl(a="",e=1){a&&"#"!=a&&(1==e&&t({url:a}),2==e&&s({url:a}),3==e&&l({url:a}))},onCall(){let a=n();e({phoneNumber:a.globalData.siteInfo.phone})}}},[["render",function(a,t,s,l,e,n){const b=w(k("uv-loading-page"),C),v=i,I=x,j=w(k("uv-icon"),D);return d(),_(v,{class:c(["content",e.theme])},{default:o((()=>[u(b,{loading:e.loading},null,8,["loading"]),e.loading?m("",!0):(d(),f(r,{key:0},[u(v,{class:"wrap"},{default:o((()=>[u(v,{class:"m_ctr"},{default:o((()=>[u(v,{class:"space_ctr"}),u(v,{class:"yuan_ctr"},{default:o((()=>[(d(!0),f(r,null,p(e.data.goods_list,((a,t)=>(d(),_(v,{key:t,class:"order_goods_ctr",onClick:t=>n.turnUrl("/pages/goods/detail?id="+a.goods_id)},{default:o((()=>[u(v,{class:"order_goods_pic"},{default:o((()=>[u(I,{mode:"widthFix",src:a.goods_pic},null,8,["src"])])),_:2},1024),u(v,{class:"order_goods_ctt"},{default:o((()=>[u(v,{class:"order_goods_title",style:h(""==a.spec_key_name?"-webkit-line-clamp:2;":"")},{default:o((()=>[g(y(a.goods_title),1)])),_:2},1032,["style"]),""!=a.spec_key_name?(d(),_(v,{key:0,class:"order_goods_subtitle"},{default:o((()=>[g(y(a.spec_key_name),1)])),_:2},1024)):m("",!0)])),_:2},1024),u(v,{class:"order_goods_price"},{default:o((()=>[u(v,null,{default:o((()=>[g("¥"+y(a.price),1)])),_:2},1024),u(v,null,{default:o((()=>[g("×"+y(a.amount),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),u(v,{class:"yuan_ctr"},{default:o((()=>[u(v,{class:"detail_txt"},{default:o((()=>[u(v,{class:"title"},{default:o((()=>[g("订单编号")])),_:1}),u(v,{class:"span"},{default:o((()=>[g(y(e.data.order_sn),1)])),_:1})])),_:1}),u(v,{class:"detail_txt"},{default:o((()=>[u(v,{class:"title"},{default:o((()=>[g("退款单号")])),_:1}),u(v,{class:"span"},{default:o((()=>[g(y(e.data.sn),1)])),_:1})])),_:1}),u(v,{class:"detail_txt"},{default:o((()=>[u(v,{class:"title"},{default:o((()=>[g("申请时间")])),_:1}),u(v,{class:"span"},{default:o((()=>[g(y(e.data.add_date),1)])),_:1})])),_:1}),e.data.price>0?(d(),_(v,{key:0,class:"detail_txt"},{default:o((()=>[u(v,{class:"title"},{default:o((()=>[g("退款金额")])),_:1}),u(v,{class:"span"},{default:o((()=>[g("¥"+y(e.data.price),1)])),_:1})])),_:1})):m("",!0),e.data.integral>0?(d(),_(v,{key:1,class:"detail_txt"},{default:o((()=>[u(v,{class:"title"},{default:o((()=>[g("退还积分")])),_:1}),u(v,{class:"span"},{default:o((()=>[g(y(e.data.integral),1)])),_:1})])),_:1})):m("",!0)])),_:1}),u(v,{class:"yuan_ctr"},{default:o((()=>[u(v,{class:"detail_txt"},{default:o((()=>[u(v,{class:"title"},{default:o((()=>[g("退款类型")])),_:1}),1==e.data.type?(d(),_(v,{key:0,class:"span"},{default:o((()=>[g("仅退款")])),_:1})):m("",!0),2==e.data.type?(d(),_(v,{key:1,class:"span"},{default:o((()=>[g("退换退款")])),_:1})):m("",!0)])),_:1}),u(v,{class:"detail_txt"},{default:o((()=>[u(v,{class:"title"},{default:o((()=>[g("退款原因")])),_:1}),u(v,{class:"span"},{default:o((()=>[g(y(e.data.reason),1)])),_:1})])),_:1}),""!=e.data.info?(d(),_(v,{key:0,class:"detail_txt"},{default:o((()=>[u(v,{class:"title"},{default:o((()=>[g("补充原因")])),_:1}),u(v,{class:"span"},{default:o((()=>[g(y(e.data.info),1)])),_:1})])),_:1})):m("",!0),u(v,{class:"detail_txt"},{default:o((()=>[u(v,{class:"title"},{default:o((()=>[g("退款状态")])),_:1}),0==e.data.state?(d(),_(v,{key:0,class:"span"},{default:o((()=>[g("退款中")])),_:1})):m("",!0),1==e.data.state?(d(),_(v,{key:1,class:"span"},{default:o((()=>[g("已成功")])),_:1})):m("",!0),-1==e.data.state?(d(),_(v,{key:2,class:"span"},{default:o((()=>[g("已驳回")])),_:1})):m("",!0),-2==e.data.state?(d(),_(v,{key:3,class:"span"},{default:o((()=>[g("已取消")])),_:1})):m("",!0)])),_:1}),""!=e.data.reply_date?(d(),_(v,{key:1,class:"detail_txt"},{default:o((()=>[u(v,{class:"title"},{default:o((()=>[g("处理时间")])),_:1}),u(v,{class:"span"},{default:o((()=>[g(y(e.data.reply_date),1)])),_:1})])),_:1})):m("",!0),-1==e.data.state?(d(),_(v,{key:2,class:"detail_txt"},{default:o((()=>[u(v,{class:"title"},{default:o((()=>[g("处理意见")])),_:1}),u(v,{class:"span"},{default:o((()=>[g(y(e.data.reply_info),1)])),_:1})])),_:1})):m("",!0)])),_:1}),2==e.data.type?(d(),_(v,{key:0,class:"yuan_ctr"},{default:o((()=>[u(v,{class:"detail_txt"},{default:o((()=>[u(v,{class:"title"},{default:o((()=>[g("退货地址")])),_:1}),u(v,{class:"span"},{default:o((()=>[g(y(e.shopConfig.refund_name)+","+y(e.shopConfig.refund_tel)+","+y(e.shopConfig.refund_address),1)])),_:1})])),_:1})])),_:1})):m("",!0)])),_:1}),u(v,{class:"space_footer"})])),_:1}),u(v,{class:"footer"},{default:o((()=>[u(v,{class:"footer_ctt"},{default:o((()=>[u(v,{class:"detail_btn_ctr"},{default:o((()=>[u(v,{class:"detail_btn"},{default:o((()=>[u(j,{name:"service","custom-prefix":"custom-icon",size:"36rpx",bold:!0,onClick:n.onCall},null,8,["onClick"]),u(v,{class:"txt",onClick:n.onCall},{default:o((()=>[g("联系客服")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})],64))])),_:1},8,["class"])}],["__scopeId","data-v-aa0a743f"]]);export{v as default};
