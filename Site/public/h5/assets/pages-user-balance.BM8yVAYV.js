import{g as a,a as t,D as e,h as s,c as l,K as o,d as n,e as i,o as d,f as u,w as c,i as g,C as f,j as r,k as _,l as m,q as p,v as h,p as b,t as y,F as v,u as D}from"./index-C4nhL_Jx.js";import{_ as k}from"./uv-loading-page.PtN9WcWT.js";import{_ as I,r as x}from"./uni-app.es.pQKBppRq.js";import{_ as H}from"./uv-empty.CTmrlToS.js";import"./uv-icon.Nv3ytMSE.js";const w=I({data:()=>({theme:"",loading:!0,dataList:[],total:0,backgroundStyle:{},navHeight:0,customNavWidth:0,customNavHeight:0,customNavTop:0}),onShow(){let t=r(),e=a(),s={goods_id:0,url:e[e.length-1].route,platform:t.globalData.systemInfo.uniPlatform,model:t.globalData.systemInfo.deviceModel};this.$apis.visit.add(s),this.initData()},onPullDownRefresh(){t({title:"加载中"}),this.initData("refresh")},methods:{async initData(a=""){let t,o=r(),n=this;await n.$onLaunched,n.theme=o.globalData.theme;let i=0,d=0;Reflect.ownKeys(o.globalData.systemInfo).length>0&&(i=o.globalData.systemInfo.statusBarHeight,d=o.globalData.systemInfo.navHeight,n.navHeight=d,n.customNavWidth=o.globalData.systemInfo.boundingLeft,n.customNavHeight=o.globalData.systemInfo.boundingHeight,n.customNavTop=o.globalData.systemInfo.boundingTop);let u=-352;u=parseInt(u)+Number(parseInt((d+i)/(e(100)/100))),n.backgroundStyle={background:"url("+o.globalData.siteInfo.url+"/upload/pic/public/m_bg_"+o.globalData.theme+".png) left "+u+"rpx no-repeat #f6f6f6",backgroundSize:"100% auto"},t=await n.$apis.balance.getList({size:1e4}),n.dataList=t.data,t=await n.$apis.user.getData(),n.total=t.data.balance,"refresh"==a&&(s(),l()),n.loading=!1},goBack(){a().length>0?o():n({url:"/pages/index/index"})}}},[["render",function(a,t,e,s,l,o){const n=x(i("uv-loading-page"),k),r=_,I=x(i("uv-empty"),H);return d(),u(r,{class:g(["content",l.theme]),style:f(l.backgroundStyle)},{default:c((()=>[m(n,{loading:l.loading},null,8,["loading"]),l.loading?D("",!0):(d(),u(r,{key:0,class:"wrap"},{default:c((()=>[m(r,{class:"status_bar",style:f({paddingTop:l.navHeight+"px"})},null,8,["style"]),m(r,{class:"title_ctr"},{default:c((()=>[m(r,null,{default:c((()=>[p("我的余额(元)")])),_:1}),m(r,{class:"txt"},{default:c((()=>[p(h(l.total),1)])),_:1})])),_:1}),m(r,{class:"m_ctr"},{default:c((()=>[m(r,{class:"yuan_ctr pd_tb_10"},{default:c((()=>[m(r,{class:"detail_title"},{default:c((()=>[p("账单明细")])),_:1}),m(r,{class:"detail_ctr"},{default:c((()=>[(d(!0),b(v,null,y(l.dataList,((a,t)=>(d(),u(r,{class:"detail_ctt",key:t},{default:c((()=>[m(r,{class:"detail_cell_title"},{default:c((()=>[m(r,null,{default:c((()=>[p(h(a.info),1)])),_:2},1024),m(r,{class:"txt"},{default:c((()=>[p(h(a.add_date),1)])),_:2},1024)])),_:2},1024),m(r,{class:"detail_info"},{default:c((()=>[a.fee>=0?(d(),u(r,{key:0},{default:c((()=>[p(h(a.fee),1)])),_:2},1024)):(d(),u(r,{key:1,class:"txt"},{default:c((()=>[p(h(a.fee),1)])),_:2},1024))])),_:2},1024)])),_:2},1024)))),128)),l.dataList.length<1?(d(),u(r,{key:0,class:"none_ctr"},{default:c((()=>[m(I,{icon:"/static/images/none.png",text:"暂无明细"})])),_:1})):D("",!0)])),_:1})])),_:1})])),_:1})])),_:1}))])),_:1},8,["class","style"])}],["__scopeId","data-v-3ba900db"]]);export{w as default};
