import{g as a,a as t,h as e,c as l,n as s,d as i,r as o,B as c,A as n,e as d,f as r,w as u,i as _,j as f,k as m,o as p,l as g,p as h,t as y,F as D,u as k,q as v,v as w,x}from"./index-CGszr9qB.js";import{_ as j}from"./uv-loading-page.DMunDfme.js";import{_ as L,r as C}from"./uni-app.es.CLj63pkI.js";import{_ as $}from"./uv-icon.40j6Cb1z.js";import{_ as b}from"./uv-empty.BfD1VQnC.js";const F=L({data:()=>({theme:"",loading:!0,dataList:[]}),onShow(){let t=f(),e=a(),l={goods_id:0,url:e[e.length-1].route,platform:t.globalData.systemInfo.uniPlatform,model:t.globalData.systemInfo.deviceModel};this.$apis.visit.add(l),this.initData()},onPullDownRefresh(){t({title:"加载中"}),this.initData("refresh")},methods:{async initData(a=""){let t,s=f(),i=this;await i.$onLaunched,i.theme=s.globalData.theme,t=await i.$apis.collect.getList({size:1e4}),i.dataList=t.data,"refresh"==a&&(e(),l()),i.loading=!1},turnUrl(a="",t=1){a&&"#"!=a&&(1==t&&s({url:a}),2==t&&i({url:a}),3==t&&o({url:a}))},delData(a){let l=this;c({title:"提示",content:"确认要删除吗？",success(s){s.confirm&&(t({title:"加载中"}),l.$apis.collect.deleteData({type:1,id:a}).then((a=>{e(),0==a.code?l.initData():n({title:a.msg,icon:"none"})})))}})}}},[["render",function(a,t,e,l,s,i){const o=C(d("uv-loading-page"),j),c=m,n=x,f=C(d("uv-icon"),$),L=C(d("uv-empty"),b);return p(),r(c,{class:_(["content",s.theme])},{default:u((()=>[g(o,{loading:s.loading},null,8,["loading"]),s.loading?k("",!0):(p(),r(c,{key:0,class:"wrap"},{default:u((()=>[g(c,{class:"space_ctr"}),g(c,{class:"m_ctr"},{default:u((()=>[(p(!0),h(D,null,y(s.dataList,((a,t)=>(p(),r(c,{class:"yuan_ctr",key:t},{default:u((()=>[g(c,{class:"collect_ctr"},{default:u((()=>[g(c,{class:"collect_left",onClick:t=>i.turnUrl(a.info_url)},{default:u((()=>[g(c,{class:"collect_pic"},{default:u((()=>[g(n,{mode:"widthFix",src:a.info_pic},null,8,["src"])])),_:2},1024),g(c,{class:"collect_ctt"},{default:u((()=>[g(c,{class:"collect_title"},{default:u((()=>[v(w(a.info_title),1)])),_:2},1024),0==a.info_integral?(p(),r(c,{key:0,class:"collect_price"},{default:u((()=>[v("¥"+w(a.info_price),1)])),_:2},1024)):(p(),r(c,{key:1,class:"collect_price"},{default:u((()=>[g(c,null,{default:u((()=>[v(w(a.info_integral),1)])),_:2},1024),g(c,{class:"span"},{default:u((()=>[v("积分")])),_:1})])),_:2},1024))])),_:2},1024)])),_:2},1032,["onClick"]),g(c,{class:"collect_del",onClick:t=>i.delData(a.id)},{default:u((()=>[g(f,{name:"delete-o",color:"#999",size:"40rpx","custom-prefix":"custom-icon"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),s.dataList.length<1?(p(),r(c,{key:0,class:"none_ctr"},{default:u((()=>[g(L,{icon:"/static/images/none.png",text:"暂无收藏"})])),_:1})):k("",!0)])),_:1}))])),_:1},8,["class"])}],["__scopeId","data-v-239a8e91"]]);export{F as default};
