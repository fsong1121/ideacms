import{g as a,a as t,h as e,c as l,n as s,d as i,r as o,B as c,A as n,e as d,o as r,f as u,w as _,i as f,j as m,k as p,l as g,p as h,t as y,F as D,u as k,q as v,v as w,x}from"./index-CP7J3jEj.js";import{_ as j}from"./uv-loading-page.CzAcxD5Y.js";import{_ as L,r as C}from"./uni-app.es.CkShW-16.js";import{_ as $}from"./uv-icon.CCP1ZI1Q.js";import{_ as b}from"./uv-empty.IRKFj8Dh.js";const F=L({data:()=>({theme:"",loading:!0,dataList:[]}),onShow(){let t=m(),e=a(),l={goods_id:0,url:e[e.length-1].route,platform:t.globalData.systemInfo.uniPlatform,model:t.globalData.systemInfo.deviceModel};this.$apis.visit.add(l),this.initData()},onPullDownRefresh(){t({title:"加载中"}),this.initData("refresh")},methods:{async initData(a=""){let t,s=m(),i=this;await i.$onLaunched,i.theme=s.globalData.theme,t=await i.$apis.collect.getList({size:1e4}),i.dataList=t.data,"refresh"==a&&(e(),l()),i.loading=!1},turnUrl(a="",t=1){a&&"#"!=a&&(1==t&&s({url:a}),2==t&&i({url:a}),3==t&&o({url:a}))},delData(a){let l=this;c({title:"提示",content:"确认要删除吗？",success(s){s.confirm&&(t({title:"加载中"}),l.$apis.collect.deleteData({type:1,id:a}).then((a=>{e(),0==a.code?l.initData():n({title:a.msg,icon:"none"})})))}})}}},[["render",function(a,t,e,l,s,i){const o=C(d("uv-loading-page"),j),c=p,n=x,m=C(d("uv-icon"),$),L=C(d("uv-empty"),b);return r(),u(c,{class:f(["content",s.theme])},{default:_((()=>[g(o,{loading:s.loading},null,8,["loading"]),s.loading?k("",!0):(r(),u(c,{key:0,class:"wrap"},{default:_((()=>[g(c,{class:"space_ctr"}),g(c,{class:"m_ctr"},{default:_((()=>[(r(!0),h(D,null,y(s.dataList,((a,t)=>(r(),u(c,{class:"yuan_ctr",key:t},{default:_((()=>[g(c,{class:"collect_ctr"},{default:_((()=>[g(c,{class:"collect_left",onClick:t=>i.turnUrl(a.info_url)},{default:_((()=>[g(c,{class:"collect_pic"},{default:_((()=>[g(n,{mode:"widthFix",src:a.info_pic},null,8,["src"])])),_:2},1024),g(c,{class:"collect_ctt"},{default:_((()=>[g(c,{class:"collect_title"},{default:_((()=>[v(w(a.info_title),1)])),_:2},1024),0==a.info_integral?(r(),u(c,{key:0,class:"collect_price"},{default:_((()=>[v("¥"+w(a.info_price),1)])),_:2},1024)):(r(),u(c,{key:1,class:"collect_price"},{default:_((()=>[g(c,null,{default:_((()=>[v(w(a.info_integral),1)])),_:2},1024),g(c,{class:"span"},{default:_((()=>[v("积分")])),_:1})])),_:2},1024))])),_:2},1024)])),_:2},1032,["onClick"]),g(c,{class:"collect_del",onClick:t=>i.delData(a.id)},{default:_((()=>[g(m,{name:"delete-o",color:"#999",size:"40rpx","custom-prefix":"custom-icon"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),s.dataList.length<1?(r(),u(c,{key:0,class:"none_ctr"},{default:_((()=>[g(L,{icon:"/static/images/none.png",text:"暂无收藏"})])),_:1})):k("",!0)])),_:1}))])),_:1},8,["class"])}],["__scopeId","data-v-239a8e91"]]);export{F as default};
