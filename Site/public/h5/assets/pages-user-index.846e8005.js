import{g as l,a as e,D as a,h as t,c as s,n as c,d as o,r,m as u,B as _,o as i,e as n,w as d,f,C as m,i as p,j as g,k as x,p as b,u as h,t as k,v as y,x as I}from"./index-8b182b74.js";import{_ as v}from"./uv-loading-page.792746ec.js";import{_ as C,r as D}from"./uni-app.es.90f08a56.js";import{_ as U}from"./uv-icon.70699d37.js";import{_ as w}from"./uv-badge.8ff43380.js";const z=C({data:()=>({theme:"",loading:!0,isLogin:!1,userInfo:{nickname:"",id:"",avatar:"",integral:0,balance:"0.00",growth:0,couponNumber:0,isFx:0,commission:"0.00",commissionTeams:0,commissionOrders:0,commissionTotal:"0.00"},orderStateNumber:[0,0,0,0,0],backgroundStyle:{},navHeight:0,copyright:""}),onShow(){let e=p(),a=l(),t={goods_id:0,url:a[a.length-1].route,platform:e.globalData.systemInfo.uniPlatform,model:e.globalData.systemInfo.deviceModel};this.$apis.visit.add(t),this.initData()},onPullDownRefresh(){e({title:"加载中"}),this.initData("refresh")},methods:{async initData(l=""){let e,c=p(),o=this;await o.$onLaunched,o.theme=c.globalData.theme,o.copyright=c.globalData.siteInfo.copyright;let r=Reflect.ownKeys(c.globalData.systemInfo).length>0?c.globalData.systemInfo.statusBarHeight:0,u=Reflect.ownKeys(c.globalData.systemInfo).length>0?c.globalData.systemInfo.navHeight:0;o.navHeight=u;let _=-232;_=parseInt(_)+Number(parseInt((u+r)/(a(100)/100))),o.backgroundStyle={background:"url("+c.globalData.siteInfo.url+"/upload/pic/public/m_bg_"+c.globalData.theme+".png) left "+_+"rpx no-repeat #f6f6f6",backgroundSize:"100% auto"},e=await o.$apis.user.getData();let i=o.userInfo;0==e.code?(o.isLogin=!0,i.nickname=e.data.uid,i.id=c.addZero(e.data.id),i.avatar=e.data.avatar,i.integral=e.data.integral,i.balance=e.data.balance,i.growth=e.data.growth,i.couponNumber=e.data.couponNumber,i.isFx=e.data.is_fx,i.commission=e.data.commission,i.commissionTeams=e.data.commission_teams,i.commissionOrders=e.data.commission_orders,i.commissionTotal=e.data.commission_total):(o.isLogin=!1,i.nickname="",i.id="",i.avatar=c.globalData.siteInfo.url+"/upload/pic/public/tx.jpg",i.integral=0,i.balance="0.00",i.growth=0,i.couponNumber=0,i.isFx=0,i.commission="0.00",i.commissionTeams=0,i.commissionOrders=0,i.commissionTotal="0.00"),o.userInfo=i,e=await o.$apis.order.getStateNumber(),0==e.code?o.orderStateNumber=e.data:o.orderStateNumber=[0,0,0,0,0],"refresh"==l&&(t(),s()),o.loading=!1},turnUrl(l="",e=1){l&&"#"!=l&&(1==e&&c({url:l}),2==e&&o({url:l}),3==e&&r({url:l}))},onCall(){let l=p();u({phoneNumber:l.globalData.siteInfo.phone})},goBill(){1==p().globalData.siteInfo.shop.is_bill?c({url:"/pages/bill/list"}):_({title:"提示",content:"抱歉，商家暂未开通线上发票服务！",showCancel:!1})}}},[["render",function(l,e,a,t,s,c){const o=D(y("uv-loading-page"),v),r=g,u=I,_=D(y("uv-icon"),U),p=D(y("uv-badge"),w);return i(),n(r,{class:f(["content",s.theme]),style:m(s.backgroundStyle)},{default:d((()=>[x(o,{loading:s.loading},null,8,["loading"]),s.loading?k("",!0):(i(),n(r,{key:0,class:"wrap"},{default:d((()=>[x(r,{class:"status_bar",style:m({paddingTop:s.navHeight+"px"})},null,8,["style"]),x(r,{class:"user_top"},{default:d((()=>[x(r,{class:"cell_ctr"},{default:d((()=>[x(r,{class:"user_pic"},{default:d((()=>[x(u,{mode:"widthFix",src:s.userInfo.avatar},null,8,["src"])])),_:1}),s.isLogin?(i(),n(r,{key:0,class:"user_info"},{default:d((()=>[x(r,null,{default:d((()=>[b("您好，"+h(s.userInfo.nickname),1)])),_:1}),x(r,{class:"span"},{default:d((()=>[b("ID:"+h(s.userInfo.id),1)])),_:1})])),_:1})):(i(),n(r,{key:1,class:"user_info",style:{"padding-top":"28rpx"},onClick:e[0]||(e[0]=l=>c.turnUrl("/pages/user/login"))},{default:d((()=>[b(" 您好，点击登录！ ")])),_:1}))])),_:1}),x(r,{class:"cell_ctr"},{default:d((()=>[x(r,{class:"user_top_ctt",onClick:e[1]||(e[1]=l=>c.turnUrl("/pages/user/integral"))},{default:d((()=>[x(r,null,{default:d((()=>[b(h(s.userInfo.integral),1)])),_:1}),x(r,{class:"text"},{default:d((()=>[b("积分")])),_:1})])),_:1}),x(r,{class:"user_top_ctt",onClick:e[2]||(e[2]=l=>c.turnUrl("/pages/user/balance"))},{default:d((()=>[x(r,null,{default:d((()=>[b(h(s.userInfo.balance),1)])),_:1}),x(r,{class:"text"},{default:d((()=>[b("余额")])),_:1})])),_:1}),x(r,{class:"user_top_ctt",onClick:e[3]||(e[3]=l=>c.turnUrl("/pages/user/growth"))},{default:d((()=>[x(r,null,{default:d((()=>[b(h(s.userInfo.growth),1)])),_:1}),x(r,{class:"text"},{default:d((()=>[b("成长值")])),_:1})])),_:1}),x(r,{class:"user_top_ctt",onClick:e[4]||(e[4]=l=>c.turnUrl("/pages/coupon/index?state=1"))},{default:d((()=>[x(r,null,{default:d((()=>[b(h(s.userInfo.couponNumber),1)])),_:1}),x(r,{class:"text"},{default:d((()=>[b("优惠券")])),_:1})])),_:1})])),_:1}),x(r,{class:"user_set",onClick:e[5]||(e[5]=l=>c.turnUrl("/pages/user/setting"))},{default:d((()=>[x(_,{name:"setting",color:"#fff",size:"40rpx"})])),_:1})])),_:1}),x(r,{class:"m_ctr"},{default:d((()=>[x(r,{class:"yuan_ctr pd_tb_20"},{default:d((()=>[x(r,{class:"cell_top"},{default:d((()=>[x(r,{class:"cell_title"},{default:d((()=>[b("商城订单")])),_:1}),x(r,{class:"cell_more",onClick:e[6]||(e[6]=l=>c.turnUrl("/pages/order/list"))},{default:d((()=>[b("全部订单>")])),_:1})])),_:1}),x(r,{class:"cell_ctr"},{default:d((()=>[x(r,{class:"cell_ctt"},{default:d((()=>[x(r,{class:"cell_ctt_cell",onClick:e[7]||(e[7]=l=>c.turnUrl("/pages/order/list?state=1"))},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"paid","custom-prefix":"custom-icon",color:"#333",size:"48rpx"}),x(p,{type:"error",max:"99",value:s.orderStateNumber[0],offset:[0,-8],absolute:!0},null,8,["value"])])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("待付款")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt"},{default:d((()=>[x(r,{class:"cell_ctt_cell",onClick:e[8]||(e[8]=l=>c.turnUrl("/pages/order/list?state=2"))},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"send-gift-o","custom-prefix":"custom-icon",color:"#333",size:"48rpx"}),x(p,{type:"error",max:"99",value:s.orderStateNumber[1],offset:[0,-8],absolute:!0},null,8,["value"])])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("待发货")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt"},{default:d((()=>[x(r,{class:"cell_ctt_cell",onClick:e[9]||(e[9]=l=>c.turnUrl("/pages/order/list?state=3"))},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"logistics","custom-prefix":"custom-icon",color:"#333",size:"48rpx"}),x(p,{type:"error",max:"99",value:s.orderStateNumber[2],offset:[0,-8],absolute:!0},null,8,["value"])])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("待收货")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt"},{default:d((()=>[x(r,{class:"cell_ctt_cell",onClick:e[10]||(e[10]=l=>c.turnUrl("/pages/comment/list"))},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"comment-o","custom-prefix":"custom-icon",color:"#333",size:"48rpx"}),x(p,{type:"error",max:"99",value:s.orderStateNumber[3],offset:[0,-8],absolute:!0},null,8,["value"])])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("待评价")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt"},{default:d((()=>[x(r,{class:"cell_ctt_cell",onClick:e[11]||(e[11]=l=>c.turnUrl("/pages/refund/list"))},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"refund-o","custom-prefix":"custom-icon",color:"#333",size:"48rpx"}),x(p,{type:"error",max:"99",value:s.orderStateNumber[4],offset:[0,-8],absolute:!0},null,8,["value"])])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("退换货")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),1==s.userInfo.isFx?(i(),n(r,{key:0,class:"m_ctr"},{default:d((()=>[x(r,{class:"yuan_ctr pd_tb_20"},{default:d((()=>[x(r,{class:"cell_top"},{default:d((()=>[x(r,{class:"cell_title"},{default:d((()=>[b("我的分销")])),_:1}),x(r,{class:"cell_more",onClick:e[12]||(e[12]=l=>c.turnUrl("/pages/addons/distribution/index"))},{default:d((()=>[b("分销中心>")])),_:1})])),_:1}),x(r,{class:"cell_ctr"},{default:d((()=>[x(r,{class:"cell_ctt_color"},{default:d((()=>[x(r,{class:"cell_ctt_cell"},{default:d((()=>[x(r,{class:"cell_nums"},{default:d((()=>[b(h(s.userInfo.commissionOrders),1)])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("分销订单")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt_color"},{default:d((()=>[x(r,{class:"cell_ctt_cell"},{default:d((()=>[x(r,{class:"cell_nums"},{default:d((()=>[b(h(s.userInfo.commissionTeams),1)])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("团队数量")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt_color"},{default:d((()=>[x(r,{class:"cell_ctt_cell"},{default:d((()=>[x(r,{class:"cell_nums"},{default:d((()=>[b(h(s.userInfo.commissionTotal),1)])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("累计佣金")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt_color"},{default:d((()=>[x(r,{class:"cell_ctt_cell"},{default:d((()=>[x(r,{class:"cell_nums"},{default:d((()=>[b(h(s.userInfo.commission),1)])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("可提佣金")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):k("",!0),x(r,{class:"m_ctr"},{default:d((()=>[x(r,{class:"yuan_ctr pd_tb_20"},{default:d((()=>[x(r,{class:"cell_top"},{default:d((()=>[x(r,{class:"cell_title"},{default:d((()=>[b("更多工具")])),_:1}),x(r,{class:"cell_more"})])),_:1}),x(r,{class:"cell_ctr"},{default:d((()=>[x(r,{class:"cell_ctt_color"},{default:d((()=>[x(r,{class:"cell_ctt_cell",onClick:e[13]||(e[13]=l=>c.turnUrl("/pages/user/collect"))},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"shoucang","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("我的收藏")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt_color"},{default:d((()=>[x(r,{class:"cell_ctt_cell",onClick:e[14]||(e[14]=l=>c.turnUrl("/pages/user/balance"))},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"yue","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("我的余额")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt_color"},{default:d((()=>[x(r,{class:"cell_ctt_cell",onClick:e[15]||(e[15]=l=>c.turnUrl("/pages/user/integral"))},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"jifen","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("我的积分")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt_color"},{default:d((()=>[x(r,{class:"cell_ctt_cell",onClick:e[16]||(e[16]=l=>c.turnUrl("/pages/user/address"))},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"dizhi","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("地址信息")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt_color"},{default:d((()=>[x(r,{class:"cell_ctt_cell",onClick:e[17]||(e[17]=l=>c.turnUrl("/pages/coupon/index"))},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"youhuiquan","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("领券中心")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt_color",onClick:c.goBill},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"fapiao","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("发票服务")])),_:1})])),_:1},8,["onClick"]),x(r,{class:"cell_ctt_color"},{default:d((()=>[x(r,{class:"cell_ctt_cell",onClick:e[18]||(e[18]=l=>c.turnUrl("/pages/article/list?id=4&tab=1"))},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"bangzhu","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("帮助中心")])),_:1})])),_:1})])),_:1}),x(r,{class:"cell_ctt_color"},{default:d((()=>[x(r,{class:"cell_ctt_cell",onClick:e[19]||(e[19]=l=>c.onCall())},{default:d((()=>[x(r,{class:"cell_ico"},{default:d((()=>[x(_,{name:"kefu","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),x(r,{class:"cell_txt"},{default:d((()=>[b("联系客服")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),""!=s.copyright?(i(),n(r,{key:1,class:"copyright"},{default:d((()=>[b(h(s.copyright),1)])),_:1})):k("",!0)])),_:1}))])),_:1},8,["class","style"])}],["__scopeId","data-v-6546fd57"]]);export{z as default};
