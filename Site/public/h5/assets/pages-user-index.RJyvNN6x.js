import{g as l,a as e,D as a,h as t,c as s,n as c,d as o,r,m as u,B as _,e as i,o as n,f as d,w as f,i as m,C as p,j as g,k as x,l as b,q as h,v as k,u as y,x as I}from"./index-C4nhL_Jx.js";import{_ as v}from"./uv-loading-page.PtN9WcWT.js";import{_ as C,r as D}from"./uni-app.es.pQKBppRq.js";import{_ as U}from"./uv-icon.Nv3ytMSE.js";import{_ as w}from"./uv-badge.3oA15bBI.js";const z=C({data:()=>({theme:"",loading:!0,isLogin:!1,userInfo:{nickname:"",id:"",avatar:"",integral:0,balance:"0.00",growth:0,couponNumber:0,isFx:0,commission:"0.00",commissionTeams:0,commissionOrders:0,commissionTotal:"0.00"},orderStateNumber:[0,0,0,0,0],backgroundStyle:{},navHeight:0,copyright:""}),onShow(){let e=g(),a=l(),t={goods_id:0,url:a[a.length-1].route,platform:e.globalData.systemInfo.uniPlatform,model:e.globalData.systemInfo.deviceModel};this.$apis.visit.add(t),this.initData()},onPullDownRefresh(){e({title:"加载中"}),this.initData("refresh")},methods:{async initData(l=""){let e,c=g(),o=this;await o.$onLaunched,o.theme=c.globalData.theme,o.copyright=c.globalData.siteInfo.copyright;let r=Reflect.ownKeys(c.globalData.systemInfo).length>0?c.globalData.systemInfo.statusBarHeight:0,u=Reflect.ownKeys(c.globalData.systemInfo).length>0?c.globalData.systemInfo.navHeight:0;o.navHeight=u;let _=-232;_=parseInt(_)+Number(parseInt((u+r)/(a(100)/100))),o.backgroundStyle={background:"url("+c.globalData.siteInfo.url+"/upload/pic/public/m_bg_"+c.globalData.theme+".png) left "+_+"rpx no-repeat #f6f6f6",backgroundSize:"100% auto"},e=await o.$apis.user.getData();let i=o.userInfo;0==e.code?(o.isLogin=!0,i.nickname=e.data.uid,i.id=c.addZero(e.data.id),i.avatar=e.data.avatar,i.integral=e.data.integral,i.balance=e.data.balance,i.growth=e.data.growth,i.couponNumber=e.data.couponNumber,i.isFx=e.data.is_fx,i.commission=e.data.commission,i.commissionTeams=e.data.commission_teams,i.commissionOrders=e.data.commission_orders,i.commissionTotal=e.data.commission_total):(o.isLogin=!1,i.nickname="",i.id="",i.avatar=c.globalData.siteInfo.url+"/upload/pic/public/tx.jpg",i.integral=0,i.balance="0.00",i.growth=0,i.couponNumber=0,i.isFx=0,i.commission="0.00",i.commissionTeams=0,i.commissionOrders=0,i.commissionTotal="0.00"),o.userInfo=i,e=await o.$apis.order.getStateNumber(),0==e.code?o.orderStateNumber=e.data:o.orderStateNumber=[0,0,0,0,0],"refresh"==l&&(t(),s()),o.loading=!1},turnUrl(l="",e=1){l&&"#"!=l&&(1==e&&c({url:l}),2==e&&o({url:l}),3==e&&r({url:l}))},onCall(){let l=g();u({phoneNumber:l.globalData.siteInfo.phone})},goBill(){1==g().globalData.siteInfo.shop.is_bill?c({url:"/pages/bill/list"}):_({title:"提示",content:"抱歉，商家暂未开通线上发票服务！",showCancel:!1})}}},[["render",function(l,e,a,t,s,c){const o=D(i("uv-loading-page"),v),r=x,u=I,_=D(i("uv-icon"),U),g=D(i("uv-badge"),w);return n(),d(r,{class:m(["content",s.theme]),style:p(s.backgroundStyle)},{default:f((()=>[b(o,{loading:s.loading},null,8,["loading"]),s.loading?y("",!0):(n(),d(r,{key:0,class:"wrap"},{default:f((()=>[b(r,{class:"status_bar",style:p({paddingTop:s.navHeight+"px"})},null,8,["style"]),b(r,{class:"user_top"},{default:f((()=>[b(r,{class:"cell_ctr"},{default:f((()=>[b(r,{class:"user_pic"},{default:f((()=>[b(u,{mode:"widthFix",src:s.userInfo.avatar},null,8,["src"])])),_:1}),s.isLogin?(n(),d(r,{key:0,class:"user_info"},{default:f((()=>[b(r,null,{default:f((()=>[h("您好，"+k(s.userInfo.nickname),1)])),_:1}),b(r,{class:"span"},{default:f((()=>[h("ID:"+k(s.userInfo.id),1)])),_:1})])),_:1})):(n(),d(r,{key:1,class:"user_info",style:{"padding-top":"28rpx"},onClick:e[0]||(e[0]=l=>c.turnUrl("/pages/user/login"))},{default:f((()=>[h(" 您好，点击登录！ ")])),_:1}))])),_:1}),b(r,{class:"cell_ctr"},{default:f((()=>[b(r,{class:"user_top_ctt",onClick:e[1]||(e[1]=l=>c.turnUrl("/pages/user/integral"))},{default:f((()=>[b(r,null,{default:f((()=>[h(k(s.userInfo.integral),1)])),_:1}),b(r,{class:"text"},{default:f((()=>[h("积分")])),_:1})])),_:1}),b(r,{class:"user_top_ctt",onClick:e[2]||(e[2]=l=>c.turnUrl("/pages/user/balance"))},{default:f((()=>[b(r,null,{default:f((()=>[h(k(s.userInfo.balance),1)])),_:1}),b(r,{class:"text"},{default:f((()=>[h("余额")])),_:1})])),_:1}),b(r,{class:"user_top_ctt",onClick:e[3]||(e[3]=l=>c.turnUrl("/pages/user/growth"))},{default:f((()=>[b(r,null,{default:f((()=>[h(k(s.userInfo.growth),1)])),_:1}),b(r,{class:"text"},{default:f((()=>[h("成长值")])),_:1})])),_:1}),b(r,{class:"user_top_ctt",onClick:e[4]||(e[4]=l=>c.turnUrl("/pages/coupon/index?state=1"))},{default:f((()=>[b(r,null,{default:f((()=>[h(k(s.userInfo.couponNumber),1)])),_:1}),b(r,{class:"text"},{default:f((()=>[h("优惠券")])),_:1})])),_:1})])),_:1}),b(r,{class:"user_set",onClick:e[5]||(e[5]=l=>c.turnUrl("/pages/user/setting"))},{default:f((()=>[b(_,{name:"setting",color:"#fff",size:"40rpx"})])),_:1})])),_:1}),b(r,{class:"m_ctr"},{default:f((()=>[b(r,{class:"yuan_ctr pd_tb_20"},{default:f((()=>[b(r,{class:"cell_top"},{default:f((()=>[b(r,{class:"cell_title"},{default:f((()=>[h("商城订单")])),_:1}),b(r,{class:"cell_more",onClick:e[6]||(e[6]=l=>c.turnUrl("/pages/order/list"))},{default:f((()=>[h("全部订单>")])),_:1})])),_:1}),b(r,{class:"cell_ctr"},{default:f((()=>[b(r,{class:"cell_ctt"},{default:f((()=>[b(r,{class:"cell_ctt_cell",onClick:e[7]||(e[7]=l=>c.turnUrl("/pages/order/list?state=1"))},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"paid","custom-prefix":"custom-icon",color:"#333",size:"48rpx"}),b(g,{type:"error",max:"99",value:s.orderStateNumber[0],offset:[0,-8],absolute:!0},null,8,["value"])])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("待付款")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt"},{default:f((()=>[b(r,{class:"cell_ctt_cell",onClick:e[8]||(e[8]=l=>c.turnUrl("/pages/order/list?state=2"))},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"send-gift-o","custom-prefix":"custom-icon",color:"#333",size:"48rpx"}),b(g,{type:"error",max:"99",value:s.orderStateNumber[1],offset:[0,-8],absolute:!0},null,8,["value"])])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("待发货")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt"},{default:f((()=>[b(r,{class:"cell_ctt_cell",onClick:e[9]||(e[9]=l=>c.turnUrl("/pages/order/list?state=3"))},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"logistics","custom-prefix":"custom-icon",color:"#333",size:"48rpx"}),b(g,{type:"error",max:"99",value:s.orderStateNumber[2],offset:[0,-8],absolute:!0},null,8,["value"])])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("待收货")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt"},{default:f((()=>[b(r,{class:"cell_ctt_cell",onClick:e[10]||(e[10]=l=>c.turnUrl("/pages/comment/list"))},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"comment-o","custom-prefix":"custom-icon",color:"#333",size:"48rpx"}),b(g,{type:"error",max:"99",value:s.orderStateNumber[3],offset:[0,-8],absolute:!0},null,8,["value"])])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("待评价")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt"},{default:f((()=>[b(r,{class:"cell_ctt_cell",onClick:e[11]||(e[11]=l=>c.turnUrl("/pages/refund/list"))},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"refund-o","custom-prefix":"custom-icon",color:"#333",size:"48rpx"}),b(g,{type:"error",max:"99",value:s.orderStateNumber[4],offset:[0,-8],absolute:!0},null,8,["value"])])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("退换货")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),1==s.userInfo.isFx?(n(),d(r,{key:0,class:"m_ctr"},{default:f((()=>[b(r,{class:"yuan_ctr pd_tb_20"},{default:f((()=>[b(r,{class:"cell_top"},{default:f((()=>[b(r,{class:"cell_title"},{default:f((()=>[h("我的分销")])),_:1}),b(r,{class:"cell_more",onClick:e[12]||(e[12]=l=>c.turnUrl("/pages/addons/distribution/index"))},{default:f((()=>[h("分销中心>")])),_:1})])),_:1}),b(r,{class:"cell_ctr"},{default:f((()=>[b(r,{class:"cell_ctt_color"},{default:f((()=>[b(r,{class:"cell_ctt_cell"},{default:f((()=>[b(r,{class:"cell_nums"},{default:f((()=>[h(k(s.userInfo.commissionOrders),1)])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("分销订单")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt_color"},{default:f((()=>[b(r,{class:"cell_ctt_cell"},{default:f((()=>[b(r,{class:"cell_nums"},{default:f((()=>[h(k(s.userInfo.commissionTeams),1)])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("团队数量")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt_color"},{default:f((()=>[b(r,{class:"cell_ctt_cell"},{default:f((()=>[b(r,{class:"cell_nums"},{default:f((()=>[h(k(s.userInfo.commissionTotal),1)])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("累计佣金")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt_color"},{default:f((()=>[b(r,{class:"cell_ctt_cell"},{default:f((()=>[b(r,{class:"cell_nums"},{default:f((()=>[h(k(s.userInfo.commission),1)])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("可提佣金")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):y("",!0),b(r,{class:"m_ctr"},{default:f((()=>[b(r,{class:"yuan_ctr pd_tb_20"},{default:f((()=>[b(r,{class:"cell_top"},{default:f((()=>[b(r,{class:"cell_title"},{default:f((()=>[h("更多工具")])),_:1}),b(r,{class:"cell_more"})])),_:1}),b(r,{class:"cell_ctr"},{default:f((()=>[b(r,{class:"cell_ctt_color"},{default:f((()=>[b(r,{class:"cell_ctt_cell",onClick:e[13]||(e[13]=l=>c.turnUrl("/pages/user/collect"))},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"shoucang","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("我的收藏")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt_color"},{default:f((()=>[b(r,{class:"cell_ctt_cell",onClick:e[14]||(e[14]=l=>c.turnUrl("/pages/user/balance"))},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"yue","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("我的余额")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt_color"},{default:f((()=>[b(r,{class:"cell_ctt_cell",onClick:e[15]||(e[15]=l=>c.turnUrl("/pages/user/integral"))},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"jifen","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("我的积分")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt_color"},{default:f((()=>[b(r,{class:"cell_ctt_cell",onClick:e[16]||(e[16]=l=>c.turnUrl("/pages/user/address"))},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"dizhi","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("地址信息")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt_color"},{default:f((()=>[b(r,{class:"cell_ctt_cell",onClick:e[17]||(e[17]=l=>c.turnUrl("/pages/coupon/index"))},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"youhuiquan","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("领券中心")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt_color",onClick:c.goBill},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"fapiao","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("发票服务")])),_:1})])),_:1},8,["onClick"]),b(r,{class:"cell_ctt_color"},{default:f((()=>[b(r,{class:"cell_ctt_cell",onClick:e[18]||(e[18]=l=>c.turnUrl("/pages/article/list?id=4&tab=1"))},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"bangzhu","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("帮助中心")])),_:1})])),_:1})])),_:1}),b(r,{class:"cell_ctt_color"},{default:f((()=>[b(r,{class:"cell_ctt_cell",onClick:e[19]||(e[19]=l=>c.onCall())},{default:f((()=>[b(r,{class:"cell_ico"},{default:f((()=>[b(_,{name:"kefu","custom-prefix":"color-icon",size:"52rpx"})])),_:1}),b(r,{class:"cell_txt"},{default:f((()=>[h("联系客服")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),""!=s.copyright?(n(),d(r,{key:1,class:"copyright"},{default:f((()=>[h(k(s.copyright),1)])),_:1})):y("",!0)])),_:1}))])),_:1},8,["class","style"])}],["__scopeId","data-v-6546fd57"]]);export{z as default};
