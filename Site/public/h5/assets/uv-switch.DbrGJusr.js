var t,e;import{E as i,G as s,e as a,o as l,f as n,w as o,l as u,C as r,i as h,k as d}from"./index-Bnh-aLYr.js";import{a as c}from"./uv-loading-page.D2Jx5K50.js";import{_ as v,r as f}from"./uni-app.es.CdPVnhCL.js";const g=v({name:"uv-switch",mixins:[i,s,{props:{value:{type:[Boolean,String,Number],default:!1},modelValue:{type:[Boolean,String,Number],default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:[String,Number],default:25},activeColor:{type:String,default:"#2979ff"},inactiveColor:{type:String,default:"#fff"},activeValue:{type:[String,Number,Boolean],default:!0},inactiveValue:{type:[String,Number,Boolean],default:!1},asyncChange:{type:Boolean,default:!1},space:{type:[String,Number],default:0},...null==(e=null==(t=uni.$uv)?void 0:t.props)?void 0:e.switch}}],data:()=>({bgColor:"#ffffff",innerValue:!1}),watch:{modelValue:{immediate:!0,handler(t){if(t!==this.inactiveValue&&t!==this.activeValue)return this.$uv.error("v-model绑定的值必须为inactiveValue、activeValue二者之一");this.innerValue=t}}},created(){this.innerValue=this.value||this.modelValue},computed:{isActive(){return this.innerValue===this.activeValue},switchStyle(){let t={};return t.width=this.$uv.addUnit(2*this.$uv.getPx(this.size)+2),t.height=this.$uv.addUnit(this.$uv.getPx(this.size)+2),this.customInactiveColor&&(t.borderColor="rgba(0, 0, 0, 0)"),t.backgroundColor=this.isActive?this.activeColor:this.inactiveColor,t},nodeStyle(){let t={};t.width=this.$uv.addUnit(this.$uv.getPx(this.size)-this.space),t.height=this.$uv.addUnit(this.$uv.getPx(this.size)-this.space);const e=this.isActive?this.$uv.addUnit(this.space):this.$uv.addUnit(this.$uv.getPx(this.size));return t.transform=`translateX(-${e})`,t},bgStyle(){let t={};return t.width=this.$uv.addUnit(2*this.$uv.getPx(this.size)-this.$uv.getPx(this.size)/2),t.height=this.$uv.addUnit(this.$uv.getPx(this.size)),t.backgroundColor=this.inactiveColor,t.transform=`scale(${this.isActive?0:1})`,t},customInactiveColor(){return"#fff"!==this.inactiveColor&&"#ffffff"!==this.inactiveColor}},methods:{clickHandler(){if(!this.disabled&&!this.loading){const t=this.isActive?this.inactiveValue:this.activeValue;this.asyncChange||(this.$emit("input",t),this.$emit("update:modelValue",t)),this.$nextTick((()=>{this.$emit("change",t)}))}}}},[["render",function(t,e,i,s,v,g){const m=d,p=f(a("uv-loading-icon"),c);return l(),n(m,{class:h(["uv-switch",[t.disabled&&"uv-switch--disabled"]]),style:r([g.switchStyle,t.$uv.addStyle(t.customStyle)]),onClick:g.clickHandler},{default:o((()=>[u(m,{class:"uv-switch__bg",style:r([g.bgStyle])},null,8,["style"]),u(m,{class:h(["uv-switch__node",[v.innerValue&&"uv-switch__node--on"]]),style:r([g.nodeStyle]),ref:"uv-switch__node"},{default:o((()=>[u(p,{show:t.loading,mode:"circle",timingFunction:"linear",color:v.innerValue?t.activeColor:"#AAABAD",size:.6*t.size},null,8,["show","color","size"])])),_:1},8,["class","style"])])),_:1},8,["class","style","onClick"])}],["__scopeId","data-v-29115cf0"]]);export{g as _};
